<!DOCTYPE html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title></title>
  <meta name="description" content="" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body>
  <canvas id="loreCanvas" height="750" width="750">
  </canvas>

  <script src="../build/lore.js"></script>
  <script>
    var cc = new Lore.Color.fromHex('#F0F0F0');

    var renderer = new Lore.Renderer('loreCanvas', { clearColor: cc });
    var controls = new Lore.OrbitalControls(renderer, 500, new Lore.Vector3f());

    var program = renderer.createProgram(Lore.Shaders.default);
    var geometry = renderer.createGeometry('TestGeometry', program);
    var geometry2 = renderer.createGeometry('TestGeometry2', program);

    var size = 150;
    var positions = new Float32Array(size * 3);
    var positions2 = new Float32Array(size * 3);
    var colors = new Float32Array(size * 3)
    var colors2 = new Float32Array(size * 3)

    for(var i = 0; i < size * 3; i++) {
      positions[i] = (Math.random() - 0.5) * 250.0;
      colors[i] = Math.random();
      positions2[i] = (Math.random() - 0.5) * 300.0;
      colors2[i] = Math.random();
    }

    geometry.addAttribute('position', positions);
    geometry.addAttribute('color', colors);
    geometry.setMode(Lore.DrawModes.triangles);

    geometry2.addAttribute('position', positions2);
    geometry2.addAttribute('color', colors2);
    geometry2.setMode(Lore.DrawModes.points);
    geometry2.isVisible = true;

    renderer.render = function(camera, geometries) {
      for(var i = 0; i < this.geometries.length; i++) {
        var geometry = this.geometries[i];
        //geometry.rotateY(0.01);
        //geometry.update();
        geometry.draw(this);
      }
    }

/*

    geometry.addAttribute('position', new Float32Array([
      -120.0, -120.0, -120.0,
      -120.0, -120.0, 120.0,
      -120.0, 120.0, -120.0,
      -120.0, 120.0, 120.0,
      120.0, -120.0, -120.0,
      120.0, -120.0, 120.0,
      120.0, 120.0, -120.0,
      120.0, 120.0, 120.0
    ]));

    geometry.addAttribute('color', new Float32Array([
      0.0, 0.0, 0.0,
      0.0, 0.0, 1.0,
      0.0, 1.0, 0.0,
      0.0, 1.0, 1.0,
      1.0, 0.0, 0.0,
      1.0, 0.0, 1.0,
      1.0, 1.0, 0.0,
      1.0, 1.0, 1.0
    ]));
*/
  </script>
</body>
</html>
