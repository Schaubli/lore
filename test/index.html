<!DOCTYPE html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title></title>
  <meta name="description" content="" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body>
  <canvas id="loreCanvas" height="750" width="750">
  </canvas>
  <p id="fps"></p>

  <script src="../build/lore.js"></script>
  <script>
    var cc = new Lore.Color.fromHex('#F0F0F0');

    var renderer = new Lore.Renderer('loreCanvas', {
        clearColor: cc,
        verbose: true,
        fps: document.getElementById('fps')
    });

    var controls = new Lore.OrbitalControls(renderer, 1200, new Lore.Vector3f());
    var pointHelper = new Lore.PointHelper(renderer, 'TestGeometry', 'default');

    var coordinatesHelper = new Lore.CoordinatesHelper(renderer, 'Coordinates', 'default', {
        position: new Lore.Vector3f(-500, -500, -500),
        axis: {
            x: { length: 1000, color: Lore.Color.fromHex('#666666') },
            y: { length: 1000, color: Lore.Color.fromHex('#666666') },
            z: { length: 1000, color: Lore.Color.fromHex('#666666') }
        },
        ticks: {
          x: { length: 20, color: Lore.Color.fromHex('#666666') },
          y: { length: 20, color: Lore.Color.fromHex('#666666') },
          z: { length: 20, color: Lore.Color.fromHex('#666666') }
        },
        box: {
          x: { color: Lore.Color.fromHex('#cccccc') },
          y: { color: Lore.Color.fromHex('#cccccc') },
          z: { color: Lore.Color.fromHex('#cccccc') }
        }
    });

    var size = 10000;
    var positions = new Float32Array(size * 3);
    var colors = new Float32Array(size * 3)

    for(var i = 0; i < size * 3; i++) {
      positions[i] = Lore.Statistics.randomNormalScaled(0, 2000);

      colors[i] = Math.random();
    }

    pointHelper.setPositions(positions);
    pointHelper.setColors(colors);

    renderer.render = function(camera, geometries) {
        pointHelper.draw();
        coordinatesHelper.draw();
    }

  </script>
</body>
</html>
